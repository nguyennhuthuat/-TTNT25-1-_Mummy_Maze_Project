"""
Chú thích:
- 'name': Tên của màn chơi.
- 'map_length': Kích thước của bản đồ (ví dụ: 5 cho bản đồ 5x5).
- 'map_data': Mảng 2D mô tả các bức tường.
    + 't': tường trên, 'b': tường dưới, 'l': tường trái, 'r': tường phải
    + 'tl': tường trên-trái, 'tr': tường trên-phải, 'bl': tường dưới-trái, 'br': tường dưới-phải
    + 't*', 'b*', 'l*', 'r*': tường chữ T khuyết
- 'player_start': Vị trí bắt đầu của người chơi [cột, hàng].
- 'stair_position': Vị trí của cầu thang thoát hiểm (cột, hàng).
- 'zombie_starts': Danh sách các vị trí bắt đầu của zombie [[x, y, type], ...].
    + Type 0: Ưu tiên đi phải/trái (horizontal first, dumb)
    + Type 1: Ưu tiên đi lên/xuống (vertical first, dumb)
    + Type 2: Ưu tiên phải/trái, nếu bị chặn thì lên/xuống (horizontal first, smart)
    + Type 3: Ưu tiên lên/xuống, nếu bị chặn thì phải/trái (vertical first, smart)

=== GIAI ĐOẠN 1: TIỀN SẢNH KIM TỰ THÁP (15 màn) ===
Mục tiêu: Làm quen với cơ chế game
Độ khó: Dễ -> Trung bình nhẹ
Quái vật: Chỉ có Xác ướp (1-2 con)
"""

maps_collection = [
    # ==========================================
    # GIAI ĐOẠN 1: TIỀN SẢNH KIM TỰ THÁP
    # Màn 1-15: Làm quen cơ chế, độ khó dễ
    # Kích thước: 6x6 và 8x8
    # ==========================================
    # --- MÀN 1: First Light  ---
    {
        "name": "Level 1: First Light (Hard)",
        "map_length": 6,
        "map_data": [
            ["", "b", "b", "b", "", ""],
            ["r", "l", "", "", "b", ""],
            ["", "", "tr", "l", "", ""],
            ["", "b", "", "", "t", ""],
            ["", "", "r", "l", "b", ""],
            ["", "", "", "", "", ""],
        ],
        "player_start": [1, 3],
        "stair_position": (7, 3),
        "zombie_starts": [[4, 2, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
        "level_score": 1000,
    },
    # --- MÀN 2: Tutorial - Né zombie đơn giản ---
    # Mục tiêu: Giới thiệu zombie, học cách né tránh
    {
        "name": "Level 2: The Watcher",
        "map_length": 6,
        "map_data": [
            ["", "", "", "l", "", ""],
            ["", "l", "", "b", "", ""],
            ["", "", "", "", "", ""],
            ["", "", "", "", "", ""],
            ["", "", "", "", "", ""],
            ["", "", "", "", "", ""],
        ],
        "player_start": [2, 4],
        "stair_position": (0, 2),
        "zombie_starts": [[6, 4, 0]],  # 1 zombie ưu tiên ngang
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
        "level_score": 1000,
    },
    # --- MÀN 3: Học cách dùng tường ---
    # Zombie type 0 (vertical first) - bị chặn bởi tường ngang
    {
        "name": "Level 3: Wall Shield",
        "map_length": 6,
        "map_data": [
            ["", "b", "", "", "r", ""],
            ["", "t", "r", "l", "", ""],
            ["b", "b", "b", "", "b", ""],
            ["t", "t", "t", "", "t", ""],
            ["", "", "", "r", "l", ""],
            ["", "", "", "", "", ""],
        ],
        "player_start": [1, 6],
        "stair_position": (7, 6),
        "zombie_starts": [[3, 1, 0]],  # Zombie type 0, bị chặn bởi tường ngang
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
        "level_score": 1000,
    },
    # --- MÀN 4: Đường vòng ---
    # Zombie type 1 (horizontal first) - bị chặn bởi tường 'l'
    # Player đi về bên trái (không qua cột zombie)
    {
        "name": "Level 4: The Detour",
        "map_length": 6,
        "map_data": [
            ["", "", "", "b", "", ""],
            ["", "", "", "t", "l", ""],
            ["", "", "", "", "", ""],
            ["", "r", "l", "", "l", ""],  # Chặn zombie ở (5,4) đi trái
            ["", "", "", "b", "", ""],
            ["", "", "", "t", "", ""],
        ],
        "player_start": [3, 4],  # Player ở giữa
        "stair_position": (0, 4),  # Stair bên trái
        "zombie_starts": [[5, 4, 1]],  # Zombie type 1 bị chặn đi trái
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 5: Hai zombie đơn giản ---
    # 2 zombie type 0 (vertical first), bị chặn đi lên bởi tường 't' tại vị trí zombie
    {
        "name": "Level 5: Double Trouble",
        "map_length": 6,
        "map_data": [
            ["", "", "r", "l", "", ""],
            ["", "b", "", "", "b", ""],
            ["", "t", "", "", "t", ""],
            ["", "", "r", "l", "", ""],
            ["", "t", "", "", "t", ""],  # Tường 't' chặn zombies
            ["", "", "", "", "", ""],
        ],
        "player_start": [3, 1],  # Player ở giữa, hàng trên
        "stair_position": (7, 1),  # Stair bên phải, hàng 1
        "zombie_starts": [
            [2, 5, 0],
            [5, 5, 0],
        ],  # 2 zombie type 0, có tường 't' tại vị trí này
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 6: Hành lang hẹp ---
    {
        "name": "Level 6: Narrow Passage",
        "map_length": 6,
        "map_data": [
            ["", "b", "r", "l", "b", ""],
            ["", "t", "", "", "t", ""],
            ["r", "l", "", "r", "l", ""],
            ["", "", "r", "l", "b", ""],
            ["", "b", "", "", "t", ""],
            ["", "t", "r", "l", "", ""],
        ],
        "player_start": [1, 1],
        "stair_position": (7, 6),
        "zombie_starts": [[6, 3, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 7: Mê cung chữ L ---
    # Zombie type 1 bị chặn đi trái, player đi về bên trái
    {
        "name": "Level 7: The L-Shape",
        "map_length": 6,
        "map_data": [
            ["", "b", "", "r", "l", ""],
            ["", "t", "r", "", "", ""],
            ["r", "l", "", "", "l", ""],  # Chặn zombie ở (5,3) đi trái
            ["", "b", "", "r", "l", ""],
            ["", "t", "", "", "", ""],
            ["", "", "r", "l", "", ""],
        ],
        "player_start": [3, 3],  # Player ở giữa
        "stair_position": (0, 3),  # Stair bên trái
        "zombie_starts": [[5, 3, 1]],  # Zombie type 1 bị chặn đi trái
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 8: Smart Hunter ---
    # Smart zombie type 2 bị chặn cả lên và trái bởi 'tl'
    {
        "name": "Level 8: Smart Hunter",
        "map_length": 6,
        "map_data": [
            ["", "r", "l", "", "b", ""],
            ["", "", "", "", "t", ""],
            ["", "b", "r", "l", "", ""],
            ["", "t", "", "", "b", ""],
            ["", "", "r", "", "tl", ""],  # Zombie ở (5,5) bị chặn cả lên và trái
            ["", "b", "", "", "", ""],
        ],
        "player_start": [1, 1],  # Player ở góc trên trái
        "stair_position": (7, 1),  # Stair bên phải trên
        "zombie_starts": [[5, 5, 2]],  # Smart zombie bị freeze
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 9: Đường zigzag ---
    {
        "name": "Level 9: Zigzag Path",
        "map_length": 6,
        "map_data": [
            ["", "r", "l", "", "", ""],
            ["", "", "", "r", "", "l"],
            ["r", "l", "", "", "", ""],
            ["", "", "b", "r", "l", ""],
            ["", "b", "t", "", "", ""],
            ["", "t", "", "r", "l", ""],
        ],
        "player_start": [1, 6],
        "stair_position": (7, 1),
        "zombie_starts": [[6, 6, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 10: Hai zombie khác loại ---
    # Type 0 và type 1 - mỗi loại bị chặn bởi tường khác nhau
    {
        "name": "Level 10: Mixed Types",
        "map_length": 6,
        "map_data": [
            ["", "r", "l", "", "b", ""],
            ["", "b", "", "", "t", ""],  # Chặn zombie type 0
            ["", "t", "", "r", "l", ""],
            ["", "", "b", "", "r", ""],  # Chặn zombie type 1
            ["r", "l", "t", "", "", ""],
            ["", "", "", "r", "l", ""],
        ],
        "player_start": [3, 3],
        "stair_position": (4, 0),
        "zombie_starts": [[2, 5, 0], [6, 4, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 11: Đường hầm song song ---
    {
        "name": "Level 11: Parallel Tunnels",
        "map_length": 6,
        "map_data": [
            ["", "r", "l", "", "r", "l"],
            ["", "", "b", "b", "", ""],
            ["", "", "t", "t", "", ""],
            ["r", "l", "", "", "r", "l"],
            ["", "", "b", "b", "", ""],
            ["", "", "t", "t", "", ""],
        ],
        "player_start": [1, 6],
        "stair_position": (7, 1),
        "zombie_starts": [[6, 3, 0]],  # Zombie bị chặn
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 12: Dead Ends - 1 zombie type 0 bị chặn dọc ---
    {
        "name": "Level 12: Dead Ends",
        "map_length": 6,
        "map_data": [
            ["", "r", "l", "", "r", "l"],
            ["", "b", "b", "", "b", ""],
            ["", "t", "t", "r", "", ""],
            ["", "", "", "", "", ""],
            ["r", "l", "b", "b", "r", "l"],
            ["", "", "t", "t", "", ""],
        ],
        "player_start": [1, 6],
        "stair_position": (7, 1),
        "zombie_starts": [[2, 1, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 13: Bao vây - 2 zombie bị chặn ---
    {
        "name": "Level 13: Surrounded",
        "map_length": 6,
        "map_data": [
            ["", "b", "", "r", "l", ""],
            ["", "t", "r", "", "", ""],
            ["r", "l", "", "", "b", ""],
            ["", "", "b", "", "t", ""],
            ["b", "", "t", "", "r", ""],  # b chặn zombie 0, r chặn zombie 1
            ["t", "", "", "r", "l", ""],
        ],
        "player_start": [3, 1],
        "stair_position": (4, 7),
        "zombie_starts": [[1, 6, 0], [6, 5, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 14: Map 8x8 - 2 zombie type 0 bị chặn dọc ---
    {
        "name": "Level 14: Larger Arena",
        "map_length": 8,
        "map_data": [
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "b", "b", "", "", "b", "", ""],
            ["", "t", "t", "r", "l", "t", "", ""],
            ["", "", "", "", "", "", "b", ""],
            ["", "r", "l", "", "", "", "t", ""],
            ["", "", "", "b", "b", "r", "l", ""],
            ["r", "l", "", "t", "t", "", "", ""],
            ["", "", "", "", "", "r", "l", ""],
        ],
        "player_start": [1, 8],
        "stair_position": (9, 1),
        "zombie_starts": [[2, 1, 0], [7, 8, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 15: BOSS - 2 zombie type 0 bị chặn dọc ---
    {
        "name": "Level 15: First Boss",
        "map_length": 8,
        "map_data": [
            ["", "r", "l", "", "b", "", "r", "l"],
            ["", "", "", "", "t", "", "", ""],
            ["", "b", "r", "l", "", "r", "l", ""],
            ["", "t", "", "", "", "", "b", ""],
            ["", "b", "", "r", "l", "", "t", ""],  # Chặn zombie đi lên
            ["", "t", "", "", "", "", "", ""],
            ["r", "l", "", "b", "", "r", "l", ""],
            ["", "", "", "t", "", "", "", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[2, 7, 0], [7, 7, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # ==========================================
    # GIAI ĐOẠN 2: HẦM MỘ TỐI TĂM
    # Màn 16-30: Độ khó trung bình
    # ==========================================
    # --- MÀN 16: Open Field - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 16: Open Field",
        "map_length": 8,
        "map_data": [
            ["", "b", "", "r", "l", "", "b", ""],
            ["", "t", "r", "", "", "l", "t", ""],
            ["", "", "b", "b", "", "", "", ""],
            ["r", "l", "t", "t", "", "r", "l", ""],
            ["", "", "", "", "b", "", "", ""],
            ["", "r", "l", "", "t", "b", "b", ""],
            ["", "", "", "", "", "t", "t", ""],
            ["", "r", "l", "", "r", "l", "", ""],
        ],
        "player_start": [1, 8],
        "stair_position": (9, 1),
        "zombie_starts": [[3, 1, 0], [7, 8, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 17: Hai hướng - 1 zombie type 0 bị chặn ---
    {
        "name": "Level 17: Two Ways",
        "map_length": 8,
        "map_data": [
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "", "", "b", "b", "", "", ""],
            ["", "b", "", "t", "t", "", "b", ""],
            ["", "t", "", "b", "b", "", "t", ""],
            ["", "", "", "t", "t", "", "", ""],
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "", "", "b", "b", "", "", ""],
            ["", "", "", "t", "t", "", "", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[4, 1, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 18: Center Wall - zombie type 1 bị chặn đi trái ---
    {
        "name": "Level 18: Center Wall",
        "map_length": 8,
        "map_data": [
            ["", "", "r", "l", "", "r", "l", ""],
            ["", "b", "", "", "", "", "b", ""],
            ["", "t", "", "r", "l", "", "t", ""],
            ["", "", "", "", "", "", "", ""],
            ["", "r", "b", "r", "l", "", "", ""],
            ["", "", "t", "", "", "", "b", ""],
            ["", "", "r", "l", "", "", "t", ""],
            ["", "", "", "", "r", "l", "", ""],
        ],
        "player_start": [4, 4],
        "stair_position": (0, 4),
        "zombie_starts": [[7, 4, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 19: Corner Walls - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 19: Corner Walls",
        "map_length": 8,
        "map_data": [
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "b", "b", "", "", "b", "b", ""],
            ["", "t", "t", "r", "l", "t", "t", ""],
            ["", "", "", "", "", "", "", ""],
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "b", "b", "", "", "b", "b", ""],
            ["", "t", "t", "r", "l", "t", "t", ""],
            ["", "", "", "", "", "", "", ""],
        ],
        "player_start": [4, 4],
        "stair_position": (5, 0),
        "zombie_starts": [[2, 1, 0], [7, 8, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 20: Wide Arena - zombie type 0 bị chặn dọc ---
    {
        "name": "Level 20: Wide Arena",
        "map_length": 8,
        "map_data": [
            ["", "", "r", "l", "", "r", "l", ""],
            ["", "b", "", "", "", "", "b", ""],
            ["", "t", "l", "b", "b", "", "t", ""],
            ["", "", "", "t", "t", "", "", ""],
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "", "", "t", "", "", "", ""],  # Chặn zombie ở (4,6) đi lên
            ["", "b", "", "", "", "", "b", ""],
            ["", "t", "r", "l", "", "", "t", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[4, 6, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 21: Triple Threat - 3 zombie type 0 bị chặn ---
    {
        "name": "Level 21: Triple Threat",
        "map_length": 8,
        "map_data": [
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "b", "", "", "", "", "b", ""],
            ["", "t", "r", "l", "", "r", "t", ""],
            ["", "", "", "b", "b", "", "", ""],
            ["", "r", "l", "t", "t", "r", "l", ""],
            ["", "b", "", "", "", "", "b", ""],
            ["", "t", "", "r", "l", "", "t", ""],
            ["", "", "r", "l", "", "r", "l", ""],
        ],
        "player_start": [4, 4],
        "stair_position": (5, 0),
        "zombie_starts": [[2, 1, 0], [7, 8, 0], [4, 6, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 22: Straight Path - zombie type 0 bị chặn dọc ---
    {
        "name": "Level 22: Straight Path",
        "map_length": 8,
        "map_data": [
            ["", "b", "", "r", "l", "", "b", ""],
            ["", "t", "r", "", "", "l", "t", ""],
            ["", "", "", "b", "b", "", "", ""],
            ["", "r", "l", "t", "t", "r", "l", ""],
            ["", "", "", "", "b", "", "", ""],
            ["", "b", "", "", "t", "", "b", ""],
            ["", "t", "", "", "", "l", "t", ""],
            ["", "", "", "r", "l", "", "", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[4, 6, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 23: H Shape - 2 zombie type 1 bị chặn ---
    {
        "name": "Level 23: H Shape",
        "map_length": 8,
        "map_data": [
            ["", "b", "", "r", "l", "", "b", ""],
            ["", "t", "r", "", "", "l", "t", ""],
            ["", "", "r", "b", "b", "l", "", ""],
            ["", "", "", "t", "t", "", "", ""],
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "", "r", "", "", "l", "", ""],
            ["", "b", "", "t", "t", "l", "b", ""],
            ["", "t", "", "", "", "", "t", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[4, 1, 1], [4, 8, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 24: Four Corners - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 24: Four Corners",
        "map_length": 8,
        "map_data": [
            ["", "r", "", "r", "", "r", "", ""],
            ["", "", "", "t", "", "", "b", ""],
            ["", "b", "", "", "b", "r", "l", ""],
            ["", "t", "r", "l", "", "", "t", ""],
            ["", "", "", "b", "", "b", "", ""],
            ["", "r", "l", "", "", "r", "l", ""],
            ["", "", "", "b", "", "", "", ""],
            ["", "r", "l", "t", "t", "r", "l", ""],
        ],
        "player_start": [5, 4],
        "stair_position": (5, 0),
        "zombie_starts": [[2, 2, 0], [7, 7, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 25: Mini Boss - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 25: Mini Boss",
        "map_length": 8,
        "map_data": [
            ["", "b", "", "r", "l", "", "b", ""],
            ["", "t", "r", "", "", "l", "t", ""],
            ["", "", "", "b", "b", "", "", ""],
            ["", "r", "l", "t", "t", "r", "l", ""],
            ["", "", "", "", "", "", "", ""],
            ["", "b", "r", "", "", "l", "b", ""],
            ["", "t", "", "r", "l", "", "t", ""],  # Chặn zombie
            ["", "", "", "", "", "", "", ""],
        ],
        "player_start": [1, 4],
        "stair_position": (9, 4),
        "zombie_starts": [[2, 7, 0], [7, 7, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 26: Big Arena 10x10 - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 26: Big Arena",
        "map_length": 10,
        "map_data": [
            ["", "r", "l", "", "", "", "", "r", "l", ""],
            ["", "", "", "b", "b", "", "", "", "", ""],
            ["", "b", "", "t", "t", "", "r", "l", "b", ""],
            ["", "t", "", "", "", "", "", "", "t", ""],
            ["", "", "r", "l", "", "", "r", "l", "", ""],
            ["", "", "", "", "b", "b", "", "", "", ""],
            ["", "b", "", "", "t", "t", "", "", "b", ""],
            ["", "t", "r", "l", "", "", "", "", "t", ""],
            ["", "", "", "", "b", "b", "", "l", "", ""],
            ["", "r", "l", "", "t", "", "", "r", "l", ""],
        ],
        "player_start": [1, 10],
        "stair_position": (11, 1),
        "zombie_starts": [[3, 1, 0], [8, 10, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 27: Many Walls - 2 zombie type 1 bị chặn ---
    {
        "name": "Level 27: Many Walls",
        "map_length": 10,
        "map_data": [
            ["", "", "r", "l", "", "", "r", "l", "", ""],
            ["", "b", "", "", "b", "b", "", "", "b", ""],
            ["", "t", "r", "l", "t", "t", "r", "l", "t", ""],
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "r", "l", "b", "b", "", "r", "l", "", ""],
            ["", "", "", "t", "t", "", "", "", "", ""],
            ["", "b", "", "", "", "b", "b", "", "b", ""],
            ["", "t", "r", "l", "", "t", "t", "l", "t", ""],  # Chặn zombie
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "r", "l", "", "r", "l", "", "r", "l", ""],
        ],
        "player_start": [5, 5],
        "stair_position": (6, 0),
        "zombie_starts": [[3, 2, 1], [8, 9, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 28: Large Room - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 28: Large Room",
        "map_length": 10,
        "map_data": [
            ["", "b", "", "r", "l", "", "r", "l", "b", ""],
            ["", "t", "r", "", "", "", "", "l", "t", ""],
            ["", "", "", "b", "b", "", "b", "b", "", ""],
            ["", "r", "l", "t", "t", "", "t", "t", "r", "l"],
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "r", "l", "", "", "b", ""],
            ["", "", "r", "l", "", "", "r", "l", "t", ""],
            ["", "t", "", "", "", "", "", "", "", ""],
            ["", "r", "l", "b", "b", "", "b", "b", "r", "l"],
            ["", "", "", "t", "t", "", "t", "t", "", ""],
        ],
        "player_start": [1, 10],
        "stair_position": (11, 1),
        "zombie_starts": [[5, 1, 0], [5, 10, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 29: Corner Blocks - 3 zombie type 0 bị chặn ---
    {
        "name": "Level 29: Corner Blocks",
        "map_length": 10,
        "map_data": [
            ["", "", "r", "l", "", "", "r", "l", "", ""],
            ["", "b", "", "", "", "", "", "", "b", ""],
            ["", "t", "", "r", "b", "b", "l", "", "t", ""],
            ["", "", "", "", "t", "t", "", "", "", ""],
            ["", "r", "l", "", "", "", "", "r", "l", ""],
            ["", "", "", "", "b", "b", "", "", "", ""],
            ["", "b", "", "r", "t", "t", "l", "", "b", ""],
            ["", "t", "", "", "", "", "", "", "t", ""],
            ["", "", "r", "l", "", "", "r", "l", "", ""],
            ["", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [5, 5],
        "stair_position": (6, 0),
        "zombie_starts": [[2, 2, 0], [9, 9, 0], [5, 8, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 30: BOSS - 2 zombie type 0 bị chặn ---
    {
        "name": "Level 30: Stage 2 Boss",
        "map_length": 10,
        "map_data": [
            ["", "r", "l", "", "", "", "", "r", "l", ""],
            ["", "", "", "b", "b", "", "", "", "", ""],
            ["", "b", "", "t", "t", "", "r", "l", "b", ""],
            ["", "t", "r", "l", "", "", "", "", "t", ""],
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "r", "l", "", "", "", "r", "l", "", ""],
            ["", "", "", "b", "b", "", "", "", "", ""],
            ["", "b", "", "t", "t", "", "r", "l", "b", ""],
            ["", "t", "r", "l", "", "", "", "", "t", ""],  # Zombies tại (2,9) và (9,9)
            ["", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [1, 5],
        "stair_position": (11, 5),
        "zombie_starts": [[2, 9, 0], [9, 9, 0]],  # Zombies bị chặn bởi 't' ở hàng 9
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # ==========================================
    # GIAI ĐOẠN 3: ĐIỆN THỜ HOÀNG GIA
    # Màn 31-45: Độ khó cao
    # ==========================================
    # --- MÀN 31: Royal Arena - 3 zombie bị chặn ---
    {
        "name": "Level 31: Royal Arena",
        "map_length": 10,
        "map_data": [
            ["", "", "r", "", "", "", "l", "", "", ""],
            ["", "", "b", "", "", "", "", "b", "", ""],
            ["", "", "t", "", "r", "l", "", "t", "", ""],
            ["", "r", "", "", "", "", "", "", "l", ""],
            ["", "", "", "", "b", "b", "", "", "", ""],
            ["", "", "r", "", "t", "t", "", "l", "", ""],
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "b", "", "r", "", "", "l", "", "b", ""],
            ["", "t", "", "", "", "", "", "", "t", ""],
            ["", "", "", "r", "", "", "l", "", "", ""],
        ],
        "player_start": [1, 10],
        "stair_position": (11, 1),
        "zombie_starts": [[4, 3, 0], [7, 8, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 32: Wall Maze - Asymmetric maze with 2 zombies ---
    {
        "name": "Level 32: Wall Maze",
        "map_length": 10,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", ""],
            ["", "b", "", "", "", "", "", "b", "", ""],
            ["", "t", "", "", "r", "", "", "t", "", ""],
            ["", "", "", "b", "", "", "", "", "", ""],
            ["", "r", "", "t", "", "", "b", "", "", ""],
            ["", "", "", "", "", "", "t", "", "", ""],
            ["", "", "b", "", "", "", "", "", "l", ""],
            ["", "", "t", "", "", "b", "", "", "", ""],
            ["", "", "", "", "", "t", "", "r", "", ""],
            ["", "", "", "r", "", "", "", "", "", ""],
        ],
        "player_start": [5, 5],
        "stair_position": (6, 0),
        "zombie_starts": [[1, 8, 0], [8, 1, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 33: Twisted Path - Winding corridors ---
    {
        "name": "Level 33: Twisted Path",
        "map_length": 10,
        "map_data": [
            ["", "", "", "b", "", "", "", "", "", ""],
            ["", "r", "", "t", "", "", "", "", "l", ""],
            ["", "", "", "", "", "r", "", "", "", ""],
            ["", "b", "", "", "", "", "", "b", "", ""],
            ["", "t", "", "", "", "b", "", "t", "", ""],
            ["", "", "", "", "", "t", "", "", "", ""],
            ["", "", "r", "", "", "", "", "", "l", ""],
            ["", "b", "", "", "", "", "", "", "", ""],
            ["", "t", "", "", "", "", "", "", "r", ""],
            ["", "", "", "r", "", "", "", "", "", ""],
        ],
        "player_start": [1, 5],
        "stair_position": (11, 5),
        "zombie_starts": [[4, 8, 0], [8, 3, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 34: Grand Hall 12x12 - Complex asymmetric layout ---
    {
        "name": "Level 34: Grand Hall",
        "map_length": 12,
        "map_data": [
            ["", "", "", "r", "", "", "", "", "b", "", "", ""],
            ["", "b", "", "", "", "", "", "", "t", "", "l", ""],
            ["", "t", "", "", "", "r", "", "", "", "", "", ""],
            ["", "", "", "b", "", "", "", "", "", "", "", ""],
            ["", "r", "", "t", "", "", "", "", "", "", "b", ""],
            ["", "", "", "", "", "", "b", "", "l", "", "t", ""],
            ["", "", "b", "", "", "", "t", "", "", "", "", ""],
            ["", "", "t", "", "", "", "", "r", "", "", "", ""],
            ["", "", "", "", "", "b", "", "", "", "b", "", ""],
            ["", "b", "", "", "", "t", "", "", "", "t", "", ""],
            ["", "t", "", "r", "", "", "", "", "", "", "l", ""],
            ["", "", "", "", "", "", "r", "", "", "", "", ""],
        ],
        "player_start": [6, 6],
        "stair_position": (7, 0),
        "zombie_starts": [[3, 3, 0], [9, 9, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 35: Serpent Path 12x12 - Snake-like corridors ---
    {
        "name": "Level 35: Serpent Path",
        "map_length": 12,
        "map_data": [
            ["", "", "", "", "r", "", "", "", "", "b", "", ""],
            ["", "b", "", "", "", "", "b", "", "", "t", "", ""],
            ["", "t", "", "r", "", "", "t", "", "", "", "l", ""],
            ["", "", "", "", "", "", "", "", "b", "", "", ""],
            ["", "", "b", "", "", "r", "", "", "t", "", "", ""],
            ["", "", "t", "", "", "", "", "", "", "", "r", ""],
            ["", "r", "", "", "b", "", "", "l", "", "", "", ""],
            ["", "", "", "", "t", "", "", "", "", "b", "", ""],
            ["", "", "", "", "", "", "r", "", "", "t", "", ""],
            ["", "b", "", "", "", "", "", "", "", "", "l", ""],
            ["", "t", "", "r", "", "b", "", "", "", "", "", ""],
            ["", "", "", "", "", "t", "", "r", "", "", "", ""],
        ],
        "player_start": [3, 6],
        "stair_position": (0, 6),
        "zombie_starts": [[9, 3, 1], [5, 9, 0], [7, 5, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 36: Labyrinth 12x12 - Complex maze pattern ---
    {
        "name": "Level 36: Labyrinth",
        "map_length": 12,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "b", "", "", "", "", "", "", "", "", "", ""],
            ["", "t", "", "", "", "", "", "r", "", "", "", ""],
            ["", "", "", "b", "", "", "", "r", "", "", "", ""],
            ["", "r", "", "t", "", "", "", "", "", "b", "", ""],
            ["", "", "", "", "", "", "", "", "", "t", "", ""],
            ["", "", "b", "", "", "", "", "", "", "", "", ""],
            ["", "", "t", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "b", "", "", ""],
            ["", "b", "", "", "", "", "", "", "t", "", "", ""],
            ["", "t", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [6, 6],
        "stair_position": (7, 0),
        "zombie_starts": [[3, 10, 0], [10, 3, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 37: Dragon's Path 12x12 - Winding corridors ---
    {
        "name": "Level 37: Dragon's Path",
        "map_length": 12,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "b", "", "", "", "r", "", "", "", "b", "", ""],
            ["", "t", "", "r", "", "", "", "", "", "t", "", ""],
            ["", "", "", "", "", "", "b", "", "", "", "", ""],
            ["", "", "b", "", "", "", "t", "", "r", "", "", ""],
            ["", "", "t", "", "", "", "", "", "", "", "", ""],
            ["", "r", "", "", "", "", "", "", "", "b", "", ""],
            ["", "", "", "", "b", "", "", "", "", "t", "", ""],
            ["", "", "", "", "t", "", "", "r", "", "", "", ""],
            ["", "", "r", "", "", "", "", "", "", "", "l", ""],
            ["", "b", "", "", "", "", "b", "", "", "", "", ""],
            ["", "t", "", "", "", "", "t", "", "", "", "", ""],
        ],
        "player_start": [10, 10],
        "stair_position": (0, 1),
        "zombie_starts": [[3, 3, 0], [8, 6, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 38: Crossroads 12x12 - Multiple pathways ---
    {
        "name": "Level 38: Crossroads",
        "map_length": 12,
        "map_data": [
            ["", "", "", "", "r", "", "", "", "", "b", "", ""],
            ["", "b", "", "", "", "", "b", "", "", "t", "", ""],
            ["", "t", "", "r", "", "", "t", "", "", "", "l", ""],
            ["", "", "", "r", "", "", "", "", "b", "", "", ""],
            ["", "", "b", "", "", "r", "", "", "t", "", "", ""],
            ["", "", "t", "", "", "", "", "", "", "", "r", ""],
            ["", "r", "", "", "b", "", "", "l", "", "", "", ""],
            ["", "", "", "", "t", "", "", "", "", "b", "", ""],
            ["", "", "", "", "", "", "r", "", "", "t", "", ""],
            ["", "b", "", "", "", "", "", "", "", "", "l", ""],
            ["", "t", "", "r", "", "b", "", "", "", "", "", ""],
            ["", "", "", "", "", "t", "", "r", "", "", "", ""],
        ],
        "player_start": [6, 6],
        "stair_position": (7, 0),
        "zombie_starts": [[3, 4, 0], [9, 8, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 39: Shadow Maze 12x12 - Dark corridors ---
    {
        "name": "Level 39: Shadow Maze",
        "map_length": 12,
        "map_data": [
            ["", "", "r", "", "", "", "", "", "b", "", "", ""],
            ["", "b", "", "", "", "r", "", "", "t", "", "l", ""],
            ["", "t", "", "b", "", "", "", "", "", "", "", ""],
            ["", "", "", "t", "", "", "b", "", "r", "", "", ""],
            ["", "r", "", "", "", "", "t", "", "", "", "b", ""],
            ["", "", "", "", "r", "", "", "", "l", "", "t", ""],
            ["", "", "b", "", "", "", "", "", "", "", "", ""],
            ["", "", "t", "", "", "b", "", "r", "", "", "", ""],
            ["", "", "", "", "", "t", "", "", "", "b", "", ""],
            ["", "b", "", "r", "", "", "", "", "", "t", "", ""],
            ["", "t", "", "", "", "", "r", "", "", "", "l", ""],
            ["", "", "", "", "r", "", "", "", "", "", "", ""],
        ],
        "player_start": [5, 6],
        "stair_position": (0, 6),
        "zombie_starts": [[3, 10, 1], [9, 3, 0]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 40: Arena of Trials 12x12 - Challenge arena ---
    {
        "name": "Level 40: Arena of Trials",
        "map_length": 12,
        "map_data": [
            ["", "", "", "", "", "", "", "", "b", "", "", ""],
            ["", "b", "", "", "", "", "r", "", "t", "", "", ""],
            ["", "t", "", "", "", "", "", "", "", "", "l", ""],
            ["", "", "", "b", "", "", "", "", "", "", "", ""],
            ["", "", "", "t", "", "r", "", "", "", "", "b", ""],
            ["", "r", "", "", "", "", "", "", "", "", "t", ""],
            ["", "", "", "", "b", "", "", "", "", "", "", ""],
            ["", "", "b", "", "t", "", "", "", "", "", "", ""],
            ["", "", "t", "", "", "", "", "", "", "b", "", ""],
            ["", "", "", "", "r", "", "", "", "", "t", "l", ""],
            ["", "b", "", "", "", "", "", "", "", "", "", ""],
            ["", "t", "", "r", "", "", "", "", "r", "", "", ""],
        ],
        "player_start": [1, 6],
        "stair_position": (13, 6),
        "zombie_starts": [[4, 4, 0], [9, 9, 1]],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 41: Imperial Palace 16x16 - Massive asymmetric maze ---
    {
        "name": "Level 41: Imperial Palace",
        "map_length": 16,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [],
        "stair_position": (),
        "zombie_starts": [],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 42: Cursed Catacombs 16x16 - Winding underground ---
    {
        "name": "Level 42: Cursed Catacombs",
        "map_length": 16,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [],
        "stair_position": (),
        "zombie_starts": [],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 43: Pharaoh's Passage 16x16 - Royal corridors ---
    {
        "name": "Level 43: Pharaoh's Passage",
        "map_length": 16,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [],
        "stair_position": (),
        "zombie_starts": [],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 44: Throne's Approach 16x16 - Final approach ---
    {
        "name": "Level 44: Throne's Approach",
        "map_length": 16,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [],
        "stair_position": (),
        "zombie_starts": [],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
    # --- MÀN 45: FINAL BOSS 16x16 - Ultimate challenge ---
    {
        "name": "Level 45: Final Boss",
        "map_length": 16,
        "map_data": [
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
            ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        ],
        "player_start": [],
        "stair_position": (),
        "zombie_starts": [],
        "scorpion_starts": [],
        "trap": [],
        "gate_key": [],
    },
]
